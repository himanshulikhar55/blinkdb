<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BLINKDB-Engine: client_runner.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BLINKDB-Engine<span id="projectnumber">&#160;0.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('client__runner_8cpp.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">client_runner.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;csignal&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;termios.h&gt;</code><br />
<code>#include &lt;limits&gt;</code><br />
<code>#include &quot;<a class="el" href="blinkdb__client_8h.html">lib/blinkdb_client.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="resp__parser_8h.html">lib/resp_parser.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="blinkdb_8h.html">lib/blinkdb.h</a>&quot;</code><br />
<code>#include &quot;lib/utils.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for client_runner.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="client__runner_8cpp__incl.png" border="0" usemap="#aclient__runner_8cpp" alt=""/></div>
<map name="aclient__runner_8cpp" id="aclient__runner_8cpp">
<area shape="rect" title=" " alt="" coords="207,5,326,32"/>
<area shape="rect" title=" " alt="" coords="328,528,400,555"/>
<area shape="poly" title=" " alt="" coords="207,28,175,34,142,45,110,60,83,82,68,101,61,120,59,167,59,393,61,413,66,430,86,461,116,485,153,503,194,517,237,526,314,536,313,541,236,531,193,522,151,508,113,489,82,464,61,433,55,414,53,393,53,167,56,119,63,99,79,78,108,56,140,40,174,29,206,22"/>
<area shape="rect" title=" " alt="" coords="716,528,769,555"/>
<area shape="poly" title=" " alt="" coords="327,19,591,29,765,39,945,53,1115,72,1257,97,1312,111,1354,127,1382,145,1389,156,1392,166,1392,319,1387,343,1371,366,1347,387,1316,406,1237,441,1142,471,1040,495,940,514,785,538,784,532,939,509,1039,490,1140,465,1235,436,1314,402,1344,383,1367,362,1382,341,1387,318,1387,167,1385,158,1378,149,1352,132,1310,116,1255,102,1114,78,945,59,765,44,591,34,327,24"/>
<area shape="rect" title=" " alt="" coords="93,80,155,107"/>
<area shape="poly" title=" " alt="" coords="243,35,164,75,161,70,241,30"/>
<area shape="rect" title=" " alt="" coords="93,155,160,181"/>
<area shape="poly" title=" " alt="" coords="257,34,151,145,147,142,253,31"/>
<area shape="rect" title=" " alt="" coords="229,80,304,107"/>
<area shape="poly" title=" " alt="" coords="269,33,269,64,264,64,264,33"/>
<area shape="rect" title=" " alt="" coords="103,528,156,555"/>
<area shape="poly" title=" " alt="" coords="207,30,143,44,110,55,78,70,50,88,28,110,13,136,8,167,8,393,10,413,17,432,38,466,67,495,96,517,93,521,63,499,34,469,12,434,5,414,3,393,3,166,8,134,24,106,47,83,76,65,108,50,142,39,206,24"/>
<area shape="rect" href="blinkdb__client_8h.html" title=" " alt="" coords="328,80,456,107"/>
<area shape="poly" title=" " alt="" coords="290,30,359,70,356,74,287,35"/>
<area shape="rect" href="blinkdb_8h.html" title=" " alt="" coords="614,155,687,181"/>
<area shape="poly" title=" " alt="" coords="327,23,476,42,547,58,596,78,612,91,625,107,643,139,638,142,620,110,608,95,593,82,545,63,475,48,326,28"/>
<area shape="rect" href="resp__parser_8h.html" title=" " alt="" coords="389,229,488,256"/>
<area shape="poly" title=" " alt="" coords="327,18,364,23,403,33,440,51,470,78,484,104,486,128,473,182,458,217,453,215,468,180,481,127,479,106,466,82,437,55,402,38,363,28,326,23"/>
<area shape="poly" title=" " alt="" coords="328,109,274,127,248,140,224,157,189,190,168,221,153,257,140,304,137,341,146,376,166,408,193,437,224,463,258,485,321,519,319,524,255,490,221,467,189,441,161,411,141,378,132,342,135,304,148,256,163,219,185,187,221,153,245,136,272,122,327,104"/>
<area shape="poly" title=" " alt="" coords="418,105,451,126,487,157,516,195,525,217,528,241,528,319,532,364,539,382,553,404,615,449,713,517,710,521,612,454,549,407,534,385,527,365,523,319,523,242,520,219,511,198,483,160,448,130,415,109"/>
<area shape="poly" title=" " alt="" coords="346,110,176,156,174,151,345,105"/>
<area shape="rect" title=" " alt="" coords="235,155,317,181"/>
<area shape="poly" title=" " alt="" coords="373,109,311,148,308,144,370,105"/>
<area shape="rect" title=" " alt="" coords="341,155,438,181"/>
<area shape="poly" title=" " alt="" coords="394,107,393,139,388,139,389,107"/>
<area shape="poly" title=" " alt="" coords="438,105,600,150,598,155,436,110"/>
<area shape="poly" title=" " alt="" coords="412,105,434,126,452,154,456,185,451,215,446,214,451,185,447,156,430,129,408,109"/>
<area shape="rect" href="hashtable_8h.html" title="Custom Hashtable implementation using open addressing with double hashing." alt="" coords="900,229,988,256"/>
<area shape="poly" title=" " alt="" coords="688,176,885,224,884,229,687,181"/>
<area shape="poly" title=" " alt="" coords="955,255,980,296,1007,355,1015,388,1018,421,1012,453,997,482,982,494,961,504,905,520,842,532,785,539,784,534,841,526,904,515,959,499,979,489,993,478,1007,451,1012,421,1010,389,1002,357,976,299,951,258"/>
<area shape="rect" href="memorypool_8h.html" title=" " alt="" coords="879,379,982,405"/>
<area shape="poly" title=" " alt="" coords="946,257,936,363,931,363,940,256"/>
<area shape="rect" title=" " alt="" coords="1093,528,1150,555"/>
<area shape="poly" title=" " alt="" coords="989,243,1065,248,1155,258,1236,275,1268,287,1290,302,1324,345,1335,367,1342,389,1343,411,1340,434,1330,458,1315,482,1291,499,1253,514,1166,535,1165,530,1251,509,1289,495,1311,478,1326,455,1334,433,1338,411,1337,390,1330,368,1320,348,1286,306,1265,292,1235,280,1154,263,1065,253,989,248"/>
<area shape="rect" href="diskstorage_8h.html" title=" " alt="" coords="706,304,806,331"/>
<area shape="poly" title=" " alt="" coords="912,259,804,300,802,295,910,254"/>
<area shape="rect" title=" " alt="" coords="790,379,855,405"/>
<area shape="poly" title=" " alt="" coords="936,258,845,368,841,365,932,255"/>
<area shape="rect" href="sparseindex_8h.html" title=" " alt="" coords="562,379,664,405"/>
<area shape="poly" title=" " alt="" coords="900,250,855,255,802,266,748,282,696,306,660,335,632,368,628,364,656,332,693,302,746,277,801,261,854,250,899,244"/>
<area shape="rect" href="bloomfilter_8h.html" title=" " alt="" coords="1210,453,1302,480"/>
<area shape="poly" title=" " alt="" coords="989,243,1060,248,1143,258,1217,275,1246,287,1265,302,1275,318,1281,336,1284,373,1278,409,1269,440,1264,438,1273,408,1279,373,1276,337,1270,320,1261,306,1243,292,1216,281,1142,263,1060,253,988,248"/>
<area shape="rect" title=" " alt="" coords="1033,304,1090,331"/>
<area shape="poly" title=" " alt="" coords="966,254,1030,293,1027,298,963,259"/>
<area shape="rect" title=" " alt="" coords="1114,304,1174,331"/>
<area shape="poly" title=" " alt="" coords="980,254,1100,297,1098,302,978,259"/>
<area shape="rect" title=" " alt="" coords="1198,304,1250,331"/>
<area shape="poly" title=" " alt="" coords="989,251,1184,301,1182,306,988,257"/>
<area shape="rect" title=" " alt="" coords="563,304,632,331"/>
<area shape="poly" title=" " alt="" coords="900,255,651,307,647,307,646,302,650,301,899,250"/>
<area shape="poly" title=" " alt="" coords="879,406,868,408,807,415,754,417,663,415,619,417,574,422,525,434,468,456,444,469,422,485,386,518,382,514,419,481,441,464,466,451,523,429,573,417,619,411,663,410,754,412,806,410,868,403,878,401"/>
<area shape="rect" href="block_8h.html" title="This is the actual &quot;Block&quot; that will store the key and value pair." alt="" coords="746,453,809,480"/>
<area shape="poly" title=" " alt="" coords="905,408,819,449,817,444,903,403"/>
<area shape="poly" title=" " alt="" coords="949,404,1095,516,1092,520,945,408"/>
<area shape="rect" title=" " alt="" coords="914,453,982,480"/>
<area shape="poly" title=" " alt="" coords="936,405,944,437,939,439,931,406"/>
<area shape="rect" title=" " alt="" coords="833,453,890,480"/>
<area shape="poly" title=" " alt="" coords="921,408,886,444,882,440,917,404"/>
<area shape="poly" title=" " alt="" coords="774,482,758,515,753,513,769,479"/>
<area shape="poly" title=" " alt="" coords="751,333,722,370,701,391,677,408,641,423,607,430,547,429,518,428,488,429,457,438,423,455,395,483,377,515,372,513,391,480,420,451,455,433,487,424,517,422,547,424,607,425,639,418,675,403,698,387,718,367,746,329"/>
<area shape="poly" title=" " alt="" coords="755,332,741,395,736,437,736,480,740,512,735,513,731,480,731,437,736,394,750,331"/>
<area shape="poly" title=" " alt="" coords="770,329,803,365,799,369,766,333"/>
<area shape="poly" title=" " alt="" coords="732,334,653,374,651,369,730,329"/>
<area shape="rect" href="skiplist_8h.html" title=" " alt="" coords="478,453,551,480"/>
<area shape="poly" title=" " alt="" coords="598,408,545,446,542,442,595,404"/>
<area shape="poly" title=" " alt="" coords="490,483,405,523,403,518,487,478"/>
<area shape="poly" title=" " alt="" coords="553,477,702,524,700,529,551,482"/>
<area shape="poly" title=" " alt="" coords="478,478,171,535,170,530,477,472"/>
<area shape="poly" title=" " alt="" coords="552,470,1077,532,1077,537,551,475"/>
<area shape="rect" title=" " alt="" coords="482,528,547,555"/>
<area shape="poly" title=" " alt="" coords="517,481,517,512,512,512,512,481"/>
<area shape="poly" title=" " alt="" coords="1210,480,1192,483,962,516,785,538,784,533,962,510,1192,477,1209,474"/>
<area shape="poly" title=" " alt="" coords="1234,483,1160,523,1157,518,1231,478"/>
<area shape="rect" title=" " alt="" coords="1217,528,1295,555"/>
<area shape="poly" title=" " alt="" coords="1259,481,1259,512,1253,512,1253,481"/>
<area shape="poly" title=" " alt="" coords="415,259,388,278,366,305,356,332,350,360,347,417,351,470,359,512,354,513,346,471,341,417,345,359,351,330,362,303,384,274,412,254"/>
<area shape="poly" title=" " alt="" coords="444,256,464,323,483,365,509,404,542,431,593,462,703,519,701,523,591,467,539,435,505,407,479,368,459,325,439,257"/>
<area shape="poly" title=" " alt="" coords="489,241,590,245,654,253,723,264,795,281,866,305,934,336,996,377,1032,409,1064,446,1109,513,1105,516,1060,450,1029,413,993,381,931,341,864,310,793,286,722,269,654,258,590,251,489,246"/>
<area shape="poly" title=" " alt="" coords="467,254,557,295,554,299,465,259"/>
<area shape="rect" title=" " alt="" coords="149,304,214,331"/>
<area shape="poly" title=" " alt="" coords="395,259,229,305,227,300,393,254"/>
<area shape="rect" title=" " alt="" coords="238,304,301,331"/>
<area shape="poly" title=" " alt="" coords="410,259,314,300,312,295,408,254"/>
<area shape="rect" title=" " alt="" coords="376,304,437,331"/>
<area shape="poly" title=" " alt="" coords="436,258,421,291,416,289,431,255"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a614217d263be1fb1a5f76e2ff7be19a2" id="r_a614217d263be1fb1a5f76e2ff7be19a2"><td class="memItemLeft" align="right" valign="top"><a id="a614217d263be1fb1a5f76e2ff7be19a2" name="a614217d263be1fb1a5f76e2ff7be19a2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PORT</b>&#160;&#160;&#160;9001</td></tr>
<tr class="separator:a614217d263be1fb1a5f76e2ff7be19a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad18c16ed26afe044ae31ebb0747ca3e0" id="r_ad18c16ed26afe044ae31ebb0747ca3e0"><td class="memItemLeft" align="right" valign="top"><a id="ad18c16ed26afe044ae31ebb0747ca3e0" name="ad18c16ed26afe044ae31ebb0747ca3e0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sigtstpHandler</b> (int signum)</td></tr>
<tr class="separator:ad18c16ed26afe044ae31ebb0747ca3e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32c1402c1491ea6c063e45c1c5a57f10" id="r_a32c1402c1491ea6c063e45c1c5a57f10"><td class="memItemLeft" align="right" valign="top"><a id="a32c1402c1491ea6c063e45c1c5a57f10" name="a32c1402c1491ea6c063e45c1c5a57f10"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handle_exit</b> ()</td></tr>
<tr class="separator:a32c1402c1491ea6c063e45c1c5a57f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3210a63df1873c78a11917bce26ff1" id="r_a5b3210a63df1873c78a11917bce26ff1"><td class="memItemLeft" align="right" valign="top"><a id="a5b3210a63df1873c78a11917bce26ff1" name="a5b3210a63df1873c78a11917bce26ff1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleSigInt</b> (int signum)</td></tr>
<tr class="separator:a5b3210a63df1873c78a11917bce26ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36bcfdb895e212dfff1f23bd747a2722" id="r_a36bcfdb895e212dfff1f23bd747a2722"><td class="memItemLeft" align="right" valign="top"><a id="a36bcfdb895e212dfff1f23bd747a2722" name="a36bcfdb895e212dfff1f23bd747a2722"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>to_lower</b> (std::string s)</td></tr>
<tr class="separator:a36bcfdb895e212dfff1f23bd747a2722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97" id="r_a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top"><a id="a0ddf1224851353fc92bfbff6f499fa97" name="a0ddf1224851353fc92bfbff6f499fa97"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae27b4f22721ba0592f8aacd5d2bbc8c3" id="r_ae27b4f22721ba0592f8aacd5d2bbc8c3"><td class="memItemLeft" align="right" valign="top"><a id="ae27b4f22721ba0592f8aacd5d2bbc8c3" name="ae27b4f22721ba0592f8aacd5d2bbc8c3"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>response</b> = &quot;\nPlease enter 'exit' to exit the client\n&quot;</td></tr>
<tr class="separator:ae27b4f22721ba0592f8aacd5d2bbc8c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fcd9b89b4e75da59ed5f2e83dce4c8b" id="r_a8fcd9b89b4e75da59ed5f2e83dce4c8b"><td class="memItemLeft" align="right" valign="top"><a id="a8fcd9b89b4e75da59ed5f2e83dce4c8b" name="a8fcd9b89b4e75da59ed5f2e83dce4c8b"></a>
const std::string&#160;</td><td class="memItemRight" valign="bottom"><b>quit</b> = &quot;*1\r\n$4\r\nQUIT\r\n&quot;</td></tr>
<tr class="separator:a8fcd9b89b4e75da59ed5f2e83dce4c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af37dd3e201ddc8f713737a9a8eaba215" id="r_af37dd3e201ddc8f713737a9a8eaba215"><td class="memItemLeft" align="right" valign="top"><a id="af37dd3e201ddc8f713737a9a8eaba215" name="af37dd3e201ddc8f713737a9a8eaba215"></a>
<a class="el" href="classblinkdb__client.html">blinkdb_client</a>&#160;</td><td class="memItemRight" valign="bottom"><b>client</b></td></tr>
<tr class="separator:af37dd3e201ddc8f713737a9a8eaba215"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Client runner for connecting to BlinkDB and interacting with it.</p>
<p>This file provides the main functionality for a client that connects to a BlinkDB server. It establishes a connection to the server on a predefined port, handles user input, and communicates using the RESP2 protocol. The client supports sending various commands and cleanly exits on receiving an exit command or SIGINT signal.</p>
<p>The client can run in only one of two modes: The first mode is "Local mode" which basically instantiates a local instance of BlinkDB and runs GET, SET and DEL command. The second mode is the "Client-Server mode". It is the mode in which the user connects to a BLINKDB server and all the requests are processed in the Server-side. The client takes the input from the user, parses it into RESP2 format and uses POSIX sockets to establish a TCP connection to a BlinkDB server.</p>
<dl class="section note"><dt>Note</dt><dd>The client can only run in the modes described above. The user should run the client in the following way: <div class="fragment"><div class="line">./client_runner &lt;mode&gt;</div>
</div><!-- fragment --> where &lt;mode&gt; can be either 1 or 2. 1 is for local mode and 2 is for client-server mode.</dd></dl>
<p>Signal Handlers:</p><ul>
<li>SIGINT: Invokes the function to safely exit the client by sending a QUIT command.</li>
<li>SIGTSTP: Outputs a prompt message to remind the user of the available exit command.</li>
</ul>
<p>Key Functions:</p><ul>
<li>sigtstpHandler: Displays a reminder message when the SIGTSTP signal (Ctrl+Z) is received.</li>
<li>handle_exit: Sends the quit command to the BlinkDB server and terminates the client.</li>
<li>handleSigInt: Triggered by SIGINT (Ctrl+C) and calls handle_exit to perform a cleanup before exit.</li>
<li>main: Sets up the client, registers signal handlers, and enters an interactive loop to process user input.</li>
</ul>
<p>This client allows users to send commands to the BlinkDB server using the RESP-2 protocol. The supported commands are:</p>
<ul>
<li><b>SET key value</b>: Store a key-value pair in the database.</li>
<li><b>GET key</b>: Retrieve the value associated with a key.</li>
<li><b>DEL key</b>: Delete a key from the database.</li>
<li><b>exit</b>: Exit the client.</li>
<li><b>print</b>: Print the contents of the database. </li>
</ul>
<h2><a class="anchor" id="autotoc_md0"></a>
Usage Examples:</h2>
<div class="fragment"><div class="line">./client_runner &lt;mode&gt;</div>
</div><!-- fragment --><p>Once inside the interactive client, you can type commands as follows:</p>
<div class="fragment"><div class="line">&gt; SET A 10</div>
<div class="line">+OK</div>
<div class="line"> </div>
<div class="line">&gt; GET A</div>
<div class="line">10</div>
<div class="line">&gt; DEL A</div>
<div class="line">+OK</div>
</div><!-- fragment --><p>If running in "Client-Server Mode" the client connects to the BlinkDB server running on the preconfigured port (<b>9001</b>).</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Command Format:</h2>
<p>The client serializes commands into the <b>RESP2 protocol format</b> before sending them:</p>
<ul>
<li><b>SET A 10</b> → <code>*3\r\n$3\r\nSET\r\n$1\r\nA\r\n$2\r\n10\r\n</code></li>
<li><b>GET A</b> → <code>*2\r\n$3\r\nGET\r\n$1\r\nA\r\n</code></li>
<li><b>DEL A</b> → <code>*2\r\n$3\r\nDEL\r\n$1\r\nA\r\n</code></li>
</ul>
<p>The server responds with a result (OK, a value, or an error message (-ERR)).</p>
<dl class="section note"><dt>Note</dt><dd>The client communicates with the server using a custom RESP2 protocol format. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="client__runner_8cpp.html">client_runner.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
